<!-- NOT A TEMPLATE! -->
<!doctype html>
<html>
	<meta http-equiv="Content-Type" content="text/html; charset='utf-8'" />
	<head>
		{{:head_content}}
		<script type="text/javascript">
			function receiveUpdateData(jsonString) {
				// We need both jQuery and NanoStateManager to be able to recieve data
				// At the moment any data received before those libraries are loaded will be lost
				if (
					typeof NanoStateManager != "undefined" &&
					typeof jQuery != "undefined"
				) {
					NanoStateManager.receiveUpdateData(jsonString);
				}
				//else
				//{
				//	alert('browser.recieveUpdateData failed due to jQuery or NanoStateManager being unavailiable.');
				//}
			}
		</script>
	</head>
	<body scroll="auto" data-url-parameters="{{:url_parameters_json}}">
		<div id="uiLayout"></div>
		<script></script>
		<noscript>
			<div id="uiNoScript">
				<h2>JAVASCRIPT REQUIRED</h2>
				<p>
					Your Internet Explorer's Javascript is disabled (or
					broken).<br />
					Enable Javascript and then open this UI again.
				</p>
			</div>
		</noscript>
		<script type="module">
			document.querySelector("body").onload = function() {
				nunjucks.configure(".", { autoescape: true });
				document.getElementById("uiLayout").innerHTML = nunjucks.render("{{:template_location}}", {{:initial_data_json}});
			};
		</script>
	</body>
</html>
